{"ast":null,"code":"import _classCallCheck from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{Link}from\"react-router-dom\";import Favorite from\"./../../components/Favorite\";import\"./Detail.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Detail=/*#__PURE__*/function(_React$Component){_inherits(Detail,_React$Component);var _super=_createSuper(Detail);function Detail(props){var _this;_classCallCheck(this,Detail);_this=_super.call(this,props);_this.state={title:\"\",body:\"\",categoryId:\"\",url:\"\",id:\"\",isFavorite:null};return _this;}_createClass(Detail,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=this.props.match.params.postId;fetch(\"https://itp-final.herokuapp.com/api/posts/\".concat(id)).then(function(response){return response.json();}).then(function(json){_this2.setState({title:json.title,body:json.body,categoryId:json.categoryId,url:json.url,id:json.id,isFavorite:json.isFavorite});console.log(json);});}},{key:\"deletePost\",value:function deletePost(){var _this3=this;var isDeleteConfirmed=window.confirm(\"Are you sure you want to delete this post?\");if(!isDeleteConfirmed){return;}fetch(\"https://itp-final.herokuapp.com/api/posts/\".concat(this.state.id),{method:\"DELETE\"}).then(function(json){toast.success(\"\".concat(_this3.state.title,\" was deleted\"));_this3.props.history.push(\"/\");});}},{key:\"addFavorite\",value:function addFavorite(){var _this4=this;fetch(\"https://itp-final.herokuapp.com/api/posts/\".concat(this.state.id),{method:\"PUT\",body:JSON.stringify({title:this.state.title,body:this.state.body,categoryId:this.state.categoryId,url:this.state.url,isFavorite:true}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){console.log(json);toast.success(\"\".concat(_this4.state.title,\" was successfully added to Favorites\"));_this4.props.history.push(\"/about\");});}},{key:\"removeFavorite\",value:function removeFavorite(){var _this5=this;fetch(\"https://itp-final.herokuapp.com/api/posts/\".concat(this.state.id),{method:\"PUT\",body:JSON.stringify({title:this.state.title,body:this.state.body,categoryId:this.state.categoryId,url:this.state.url,isFavorite:false}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){console.log(json);toast.success(\"\".concat(_this5.state.title,\" was successfully removed from Favorites\"));_this5.props.history.push(\"/about\");});}},{key:\"render\",value:function render(){var _this6=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"Detail\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title\",children:this.state.title}),/*#__PURE__*/_jsx(\"button\",{// type=\"submit\"\nclassName:\"btn btn-outline-dark btn-lg like\",onClick:function onClick(){!_this6.state.isFavorite?_this6.addFavorite():_this6.removeFavorite();},children:/*#__PURE__*/_jsx(Favorite,{likeValue:this.state.isFavorite})}),/*#__PURE__*/_jsx(\"p\",{children:this.state.body}),/*#__PURE__*/_jsx(\"img\",{className:\"img\",src:this.state.url,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-danger btn-lg bttn\",onClick:function onClick(){_this6.deletePost();},children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{type:\"button\",className:\"btn btn-success btn-lg bttn2\",to:\"/board/\".concat(this.props.match.params.postId,\"/edit\"),children:\"Edit\"})]})]});}}]);return Detail;}(React.Component);export{Detail as default};","map":{"version":3,"sources":["/Users/clara/Desktop/404-final/src/pages/home/Detail.js"],"names":["React","toast","Link","Favorite","Detail","props","state","title","body","categoryId","url","id","isFavorite","match","params","postId","fetch","then","response","json","setState","console","log","isDeleteConfirmed","window","confirm","method","success","history","push","JSON","stringify","headers","addFavorite","removeFavorite","deletePost","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { Link } from \"react-router-dom\";\nimport Favorite from \"./../../components/Favorite\";\nimport \"./Detail.css\";\n\nexport default class Detail extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: \"\",\n      body: \"\",\n      categoryId: \"\",\n      url: \"\",\n      id: \"\",\n      isFavorite: null,\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.postId;\n    fetch(`https://itp-final.herokuapp.com/api/posts/${id}`)\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        this.setState({\n          title: json.title,\n          body: json.body,\n          categoryId: json.categoryId,\n          url: json.url,\n          id: json.id,\n          isFavorite: json.isFavorite,\n        });\n        console.log(json);\n      });\n  }\n\n  deletePost() {\n    const isDeleteConfirmed = window.confirm(\n      \"Are you sure you want to delete this post?\"\n    );\n\n    if (!isDeleteConfirmed) {\n      return;\n    }\n\n    fetch(`https://itp-final.herokuapp.com/api/posts/${this.state.id}`, {\n      method: \"DELETE\",\n    }).then((json) => {\n      toast.success(`${this.state.title} was deleted`);\n      this.props.history.push(\"/\");\n    });\n  }\n\n  addFavorite() {\n    fetch(`https://itp-final.herokuapp.com/api/posts/${this.state.id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({\n        title: this.state.title,\n        body: this.state.body,\n        categoryId: this.state.categoryId,\n        url: this.state.url,\n        isFavorite: true,\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        console.log(json);\n        toast.success(\n          `${this.state.title} was successfully added to Favorites`\n        );\n        this.props.history.push(\"/about\");\n      });\n  }\n\n  removeFavorite() {\n    fetch(`https://itp-final.herokuapp.com/api/posts/${this.state.id}`, {\n      method: \"PUT\",\n      body: JSON.stringify({\n        title: this.state.title,\n        body: this.state.body,\n        categoryId: this.state.categoryId,\n        url: this.state.url,\n        isFavorite: false,\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        console.log(json);\n        toast.success(\n          `${this.state.title} was successfully removed from Favorites`\n        );\n        this.props.history.push(\"/about\");\n      });\n  }\n\n  render() {\n    return (\n      <div className=\"Detail\">\n        <h1 className=\"title\">{this.state.title}</h1>\n        <button\n          // type=\"submit\"\n          className=\"btn btn-outline-dark btn-lg like\"\n          onClick={() => {\n            !this.state.isFavorite ? this.addFavorite() : this.removeFavorite();\n          }}\n        >\n          <Favorite likeValue={this.state.isFavorite} />\n        </button>\n        <p>{this.state.body}</p>\n        <img className=\"img\" src={this.state.url} alt=\"\" />\n        <div className=\"group\">\n          <button\n            type=\"button\"\n            className=\"btn btn-danger btn-lg bttn\"\n            onClick={() => {\n              this.deletePost();\n            }}\n          >\n            Delete\n          </button>\n          <Link\n            type=\"button\"\n            className=\"btn btn-success btn-lg bttn2\"\n            to={`/board/${this.props.match.params.postId}/edit`}\n          >\n            Edit\n          </Link>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}