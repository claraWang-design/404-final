{"ast":null,"code":"import _classCallCheck from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/clara/Desktop/404-final/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import\"./Upload.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Upload=/*#__PURE__*/function(_React$Component){_inherits(Upload,_React$Component);var _super=_createSuper(Upload);function Upload(props){var _this;_classCallCheck(this,Upload);_this=_super.call(this,props);_this.state={title:\"\",body:\"\",categoryId:\"\",url:\"\",titleError:\"\",bodyError:\"\",urlError:\"\"};_this.handleTitleChange=_this.handleTitleChange.bind(_assertThisInitialized(_this));_this.handleBodyChange=_this.handleBodyChange.bind(_assertThisInitialized(_this));_this.handleCategoryChange=_this.handleCategoryChange.bind(_assertThisInitialized(_this));_this.handleUrlChange=_this.handleUrlChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(Upload,[{key:\"validation\",value:function validation(){var titleError=\"\";var bodyError=\"\";var urlError=\"\";if(!this.state.title){titleError=\"Please enter a title for your image\";}if(!this.state.body){bodyError=\"Please enter some description for the image\";}if(!this.state.url){urlError=\"An url for your image is required\";}if(titleError||bodyError||urlError){this.setState({titleError:titleError,bodyError:bodyError,urlError:urlError});return false;}return true;}},{key:\"handleTitleChange\",value:function handleTitleChange(event){this.setState({title:event.target.value});}},{key:\"handleBodyChange\",value:function handleBodyChange(event){this.setState({body:event.target.value});}},{key:\"handleCategoryChange\",value:function handleCategoryChange(event){this.setState({categoryId:event.target.value});}},{key:\"handleUrlChange\",value:function handleUrlChange(event){this.setState({url:event.target.value});}},{key:\"handleSubmit\",value:function handleSubmit(event){var _this2=this;event.preventDefault();var isValid=this.validation();if(isValid){fetch(\"https://itp-final.herokuapp.com/api/posts\",{method:\"POST\",body:JSON.stringify({title:this.state.title,body:this.state.body,categoryId:this.state.categoryId,url:this.state.url,isFavorite:false}),headers:{\"Content-type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){console.log(json);_this2.props.history.push(\"/\");});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"container Upload\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"form\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"my-3 \",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",className:\"form-label\",children:\"Image Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control border-0 bg-light\",id:\"title\",value:this.state.title,onChange:this.handleTitleChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:this.state.titleError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",className:\"form-label \",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"description\",className:\"form-control border-0 bg-light\",id:\"description\",value:this.state.body,onChange:this.handleBodyChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:this.state.bodyError})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label \",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{value:this.state.categoryId,onChange:this.handleCategoryChange,className:\"form-select form-select-md border-0 bg-light\",children:[/*#__PURE__*/_jsx(\"option\",{children:\"Select a Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Holiday\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Flower\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"Nature\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"link\",className:\"form-label \",children:\"Image Link\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control border-0 bg-light\",id:\"link\",value:this.state.url,onChange:this.handleUrlChange}),/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:this.state.urlError})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"mt-4 button btn btn-danger btn-lg btn-block\",children:\"Upload Your Inspiration\"})]})});}}]);return Upload;}(React.Component);export{Upload as default};","map":{"version":3,"sources":["/Users/clara/Desktop/404-final/src/pages/upload/Upload.js"],"names":["React","Upload","props","state","title","body","categoryId","url","titleError","bodyError","urlError","handleTitleChange","bind","handleBodyChange","handleCategoryChange","handleUrlChange","handleSubmit","setState","event","target","value","preventDefault","isValid","validation","fetch","method","JSON","stringify","isFavorite","headers","then","response","json","console","log","history","push","Component"],"mappings":"yuBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,cAAP,C,2FAEqBC,CAAAA,M,4GACnB,gBAAYC,KAAZ,CAAmB,wCACjB,uBAAMA,KAAN,EAEA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAE,EADI,CAEXC,IAAI,CAAE,EAFK,CAGXC,UAAU,CAAE,EAHD,CAIXC,GAAG,CAAE,EAJM,CAKXC,UAAU,CAAE,EALD,CAMXC,SAAS,CAAE,EANA,CAOXC,QAAQ,CAAC,EAPE,CAAb,CAUA,MAAKC,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,+BAAzB,CACA,MAAKC,gBAAL,CAAwB,MAAKA,gBAAL,CAAsBD,IAAtB,+BAAxB,CACA,MAAKE,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BF,IAA1B,+BAA5B,CACA,MAAKG,eAAL,CAAuB,MAAKA,eAAL,CAAqBH,IAArB,+BAAvB,CACA,MAAKI,YAAL,CAAoB,MAAKA,YAAL,CAAkBJ,IAAlB,+BAApB,CAjBiB,aAkBlB,C,6CAED,qBAAa,CACX,GAAIJ,CAAAA,UAAU,CAAG,EAAjB,CACA,GAAIC,CAAAA,SAAS,CAAG,EAAhB,CACA,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CAEA,GAAI,CAAC,KAAKP,KAAL,CAAWC,KAAhB,CAAuB,CACrBI,UAAU,CAAG,qCAAb,CACD,CAED,GAAI,CAAC,KAAKL,KAAL,CAAWE,IAAhB,CAAsB,CACpBI,SAAS,CAAG,6CAAZ,CACD,CAED,GAAI,CAAC,KAAKN,KAAL,CAAWI,GAAhB,CAAqB,CACnBG,QAAQ,CAAG,mCAAX,CACD,CAED,GAAGF,UAAU,EAAIC,SAAd,EAA2BC,QAA9B,CAAwC,CACtC,KAAKO,QAAL,CAAc,CAACT,UAAU,CAAVA,UAAD,CAAaC,SAAS,CAATA,SAAb,CAAwBC,QAAQ,CAARA,QAAxB,CAAd,EACA,MAAO,MAAP,CACD,CAGD,MAAO,KAAP,CACD,C,iCAED,2BAAkBQ,KAAlB,CAAyB,CACvB,KAAKD,QAAL,CAAc,CAAEb,KAAK,CAAEc,KAAK,CAACC,MAAN,CAAaC,KAAtB,CAAd,EACD,C,gCAED,0BAAiBF,KAAjB,CAAwB,CACtB,KAAKD,QAAL,CAAc,CAAEZ,IAAI,CAAEa,KAAK,CAACC,MAAN,CAAaC,KAArB,CAAd,EACD,C,oCAED,8BAAqBF,KAArB,CAA4B,CAC1B,KAAKD,QAAL,CAAc,CAAEX,UAAU,CAAEY,KAAK,CAACC,MAAN,CAAaC,KAA3B,CAAd,EACD,C,+BAED,yBAAgBF,KAAhB,CAAuB,CACrB,KAAKD,QAAL,CAAc,CAAEV,GAAG,CAAEW,KAAK,CAACC,MAAN,CAAaC,KAApB,CAAd,EACD,C,4BAED,sBAAaF,KAAb,CAAoB,iBAClBA,KAAK,CAACG,cAAN,GACA,GAAMC,CAAAA,OAAO,CAAG,KAAKC,UAAL,EAAhB,CAEA,GAAID,OAAJ,CAAa,CACXE,KAAK,CAAC,2CAAD,CAA8C,CACnDC,MAAM,CAAE,MAD2C,CAEnDpB,IAAI,CAAEqB,IAAI,CAACC,SAAL,CAAe,CACnBvB,KAAK,CAAE,KAAKD,KAAL,CAAWC,KADC,CAEnBC,IAAI,CAAE,KAAKF,KAAL,CAAWE,IAFE,CAGnBC,UAAU,CAAE,KAAKH,KAAL,CAAWG,UAHJ,CAInBC,GAAG,CAAE,KAAKJ,KAAL,CAAWI,GAJG,CAKnBqB,UAAU,CAAE,KALO,CAAf,CAF6C,CASnDC,OAAO,CAAE,CACP,eAAgB,kBADT,CAT0C,CAA9C,CAAL,CAaCC,IAbD,CAaM,SAACC,QAAD,CAAc,CAClB,MAAOA,CAAAA,QAAQ,CAACC,IAAT,EAAP,CACD,CAfD,EAgBCF,IAhBD,CAgBM,SAACE,IAAD,CAAU,CACdC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAI,CAAC9B,KAAL,CAAWiC,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB,EACD,CAnBD,EAoBD,CACF,C,sBAED,iBAAS,CACP,mBACE,YAAK,SAAS,CAAC,kBAAf,uBACE,cAAM,SAAS,CAAC,MAAhB,CAAuB,QAAQ,CAAE,KAAKpB,YAAtC,wBACE,aAAK,SAAS,CAAC,OAAf,wBACE,cAAO,OAAO,CAAC,OAAf,CAAuB,SAAS,CAAC,YAAjC,yBADF,cAIE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,gCAFZ,CAGE,EAAE,CAAC,OAHL,CAIE,KAAK,CAAE,KAAKb,KAAL,CAAWC,KAJpB,CAKE,QAAQ,CAAE,KAAKO,iBALjB,EAJF,cAWE,YAAK,SAAS,CAAC,OAAf,UACG,KAAKR,KAAL,CAAWK,UADd,EAXF,GADF,cAiBE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,aAAf,CAA6B,SAAS,CAAC,aAAvC,yBADF,cAKE,iBACE,IAAI,CAAC,aADP,CAEE,SAAS,CAAC,gCAFZ,CAGE,EAAE,CAAC,aAHL,CAIE,KAAK,CAAE,KAAKL,KAAL,CAAWE,IAJpB,CAKE,QAAQ,CAAE,KAAKQ,gBALjB,EALF,cAYE,YAAK,SAAS,CAAC,OAAf,UACG,KAAKV,KAAL,CAAWM,SADd,EAZF,GAjBF,cAkCE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,SAAS,CAAC,aAAjB,sBADF,cAEE,gBACE,KAAK,CAAE,KAAKN,KAAL,CAAWG,UADpB,CAEE,QAAQ,CAAE,KAAKQ,oBAFjB,CAGE,SAAS,CAAC,8CAHZ,wBAKE,6CALF,cAME,eAAQ,KAAK,CAAC,GAAd,qBANF,cAOE,eAAQ,KAAK,CAAC,GAAd,oBAPF,cAQE,eAAQ,KAAK,CAAC,GAAd,oBARF,GAFF,GAlCF,cAgDE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,MAAf,CAAsB,SAAS,CAAC,aAAhC,wBADF,cAKE,cACE,IAAI,CAAC,MADP,CAEE,SAAS,CAAC,gCAFZ,CAGE,EAAE,CAAC,MAHL,CAIE,KAAK,CAAE,KAAKX,KAAL,CAAWI,GAJpB,CAKE,QAAQ,CAAE,KAAKQ,eALjB,EALF,cAYE,YAAK,SAAS,CAAC,OAAf,UACG,KAAKZ,KAAL,CAAWO,QADd,EAZF,GAhDF,cAiEE,eAAQ,IAAI,CAAC,QAAb,CAAuB,SAAS,CAAC,6CAAjC,qCAjEF,GADF,EADF,CAyED,C,oBArKiCV,KAAK,CAACqC,S,SAArBpC,M","sourcesContent":["import React from \"react\";\nimport \"./Upload.css\";\n\nexport default class Upload extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      title: \"\",\n      body: \"\",\n      categoryId: \"\",\n      url: \"\",\n      titleError: \"\",\n      bodyError: \"\",\n      urlError:\"\"\n    };\n\n    this.handleTitleChange = this.handleTitleChange.bind(this);\n    this.handleBodyChange = this.handleBodyChange.bind(this);\n    this.handleCategoryChange = this.handleCategoryChange.bind(this);\n    this.handleUrlChange = this.handleUrlChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  validation() {\n    let titleError = \"\";\n    let bodyError = \"\";\n    let urlError = \"\";\n\n    if (!this.state.title) {\n      titleError = \"Please enter a title for your image\";\n    }\n\n    if (!this.state.body) {\n      bodyError = \"Please enter some description for the image\";\n    }\n\n    if (!this.state.url) {\n      urlError = \"An url for your image is required\";\n    }\n\n    if(titleError || bodyError || urlError) {\n      this.setState({titleError, bodyError, urlError});\n      return false;\n    }\n\n\n    return true;\n  }\n\n  handleTitleChange(event) {\n    this.setState({ title: event.target.value });\n  }\n\n  handleBodyChange(event) {\n    this.setState({ body: event.target.value });\n  }\n\n  handleCategoryChange(event) {\n    this.setState({ categoryId: event.target.value });\n  }\n\n  handleUrlChange(event) {\n    this.setState({ url: event.target.value });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const isValid = this.validation();\n\n    if (isValid) {\n      fetch(\"https://itp-final.herokuapp.com/api/posts\", {\n      method: \"POST\",\n      body: JSON.stringify({\n        title: this.state.title,\n        body: this.state.body,\n        categoryId: this.state.categoryId,\n        url: this.state.url,\n        isFavorite: false\n      }),\n      headers: {\n        \"Content-type\": \"application/json\",\n      },\n    })\n      .then((response) => {\n        return response.json();\n      })\n      .then((json) => {\n        console.log(json);\n        this.props.history.push(\"/\");\n      });\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"container Upload\">\n        <form className=\"form\" onSubmit={this.handleSubmit} >\n          <div className=\"my-3 \">\n            <label htmlFor=\"title\" className=\"form-label\">\n              Image Title\n            </label>\n            <input\n              type=\"text\"\n              className=\"form-control border-0 bg-light\"\n              id=\"title\"\n              value={this.state.title}\n              onChange={this.handleTitleChange}\n            />\n            <div className=\"error\">\n              {this.state.titleError}\n            </div>\n          </div>\n\n          <div className=\"mb-3\">\n            <label htmlFor=\"description\" className=\"form-label \">\n              Description\n            </label>\n\n            <textarea\n              type=\"description\"\n              className=\"form-control border-0 bg-light\"\n              id=\"description\"\n              value={this.state.body}\n              onChange={this.handleBodyChange}\n            />\n            <div className=\"error\">\n              {this.state.bodyError}\n            </div>\n          </div>\n\n          <div className=\"mb-3\">\n            <label className=\"form-label \">Category</label>\n            <select\n              value={this.state.categoryId}\n              onChange={this.handleCategoryChange}\n              className=\"form-select form-select-md border-0 bg-light\"\n            >\n              <option>Select a Category</option>\n              <option value=\"0\">Holiday</option>\n              <option value=\"1\">Flower</option>\n              <option value=\"2\">Nature</option>\n            </select>\n          </div>\n\n          <div className=\"my-3\">\n            <label htmlFor=\"link\" className=\"form-label \">\n              Image Link\n            </label>\n\n            <input\n              type=\"text\"\n              className=\"form-control border-0 bg-light\"\n              id=\"link\"\n              value={this.state.url}\n              onChange={this.handleUrlChange}\n            />\n            <div className=\"error\">\n              {this.state.urlError}\n            </div>\n          </div>\n\n          <button type=\"submit\"  className=\"mt-4 button btn btn-danger btn-lg btn-block\">\n            Upload Your Inspiration\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}