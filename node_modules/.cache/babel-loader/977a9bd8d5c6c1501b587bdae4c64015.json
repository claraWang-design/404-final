{"ast":null,"code":"var _jsxFileName = \"/Users/clara/Desktop/404-final/src/pages/home/Detail.js\";\nimport React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Detail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: {}\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.postId;\n    fetch(`https://itp-final.herokuapp.com/api/posts/${id}`).then(response => {\n      return response.json();\n    }).then(json => {\n      this.setState({\n        post: json\n      });\n    });\n  }\n\n  deletePost() {\n    const isDeleteConfirmed = window.confirm(\"Are you sure you want to delete this post?\");\n\n    if (!isDeleteConfirmed) {\n      return;\n    }\n\n    fetch(`https://json-server-posts-api.herokuapp.com/api/posts/${this.state.post.id}`, {\n      method: \"DELETE\"\n    }).then(json => {\n      toast.success(`Post \"${this.state.post.title}\" was deleted`);\n      this.props.history.push(\"/\");\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: this.state.post.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: this.state.post.body\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-danger\",\n        onClick: () => {\n          this.deletePost();\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/Users/clara/Desktop/404-final/src/pages/home/Detail.js"],"names":["React","toast","Detail","Component","constructor","props","state","post","componentDidMount","id","match","params","postId","fetch","then","response","json","setState","deletePost","isDeleteConfirmed","window","confirm","method","success","title","history","push","render","body"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,QAAsB,gBAAtB;;;AAEA,eAAe,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAqC;AAChDC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AAEA,SAAKC,KAAL,GAAa;AACTC,MAAAA,IAAI,EAAE;AADG,KAAb;AAGH;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAMC,EAAE,GAAG,KAAKJ,KAAL,CAAWK,KAAX,CAAiBC,MAAjB,CAAwBC,MAAnC;AACAC,IAAAA,KAAK,CAAE,6CAA4CJ,EAAG,EAAjD,CAAL,CACKK,IADL,CACWC,QAAD,IAAc;AAChB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACH,KAHL,EAIKF,IAJL,CAIWE,IAAD,IAAU;AACZ,WAAKC,QAAL,CAAc;AAAEV,QAAAA,IAAI,EAAES;AAAR,OAAd;AACH,KANL;AAOH;;AAEDE,EAAAA,UAAU,GAAG;AACT,UAAMC,iBAAiB,GAAGC,MAAM,CAACC,OAAP,CACxB,4CADwB,CAA1B;;AAIA,QAAI,CAACF,iBAAL,EAAwB;AACtB;AACD;;AAEDN,IAAAA,KAAK,CACF,yDAAwD,KAAKP,KAAL,CAAWC,IAAX,CAAgBE,EAAG,EADzE,EAEH;AACEa,MAAAA,MAAM,EAAE;AADV,KAFG,CAAL,CAKER,IALF,CAKQE,IAAD,IAAU;AACff,MAAAA,KAAK,CAACsB,OAAN,CAAe,SAAQ,KAAKjB,KAAL,CAAWC,IAAX,CAAgBiB,KAAM,eAA7C;AACA,WAAKnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KARD;AASD;;AAEHC,EAAAA,MAAM,GAAG;AACL,wBACI;AAAA,8BACI;AAAA,kBAAK,KAAKrB,KAAL,CAAWC,IAAX,CAAgBiB;AAArB;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,kBAAI,KAAKlB,KAAL,CAAWC,IAAX,CAAgBqB;AAApB;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AACJ,QAAA,IAAI,EAAC,QADD;AAEJ,QAAA,SAAS,EAAC,gBAFN;AAGJ,QAAA,OAAO,EAAE,MAAM;AACb,eAAKV,UAAL;AACD,SALG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA,oBADJ;AAeH;;AAxD+C","sourcesContent":["import React from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport default class Detail extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            post: {}\n        };\n    }\n\n    componentDidMount() {\n        const id = this.props.match.params.postId;\n        fetch(`https://itp-final.herokuapp.com/api/posts/${id}`)\n            .then((response) => {\n                return response.json();\n            })\n            .then((json) => {\n                this.setState({ post: json });\n            });\n    }\n\n    deletePost() {\n        const isDeleteConfirmed = window.confirm(\n          \"Are you sure you want to delete this post?\"\n        );\n    \n        if (!isDeleteConfirmed) {\n          return;\n        }\n    \n        fetch(\n          `https://json-server-posts-api.herokuapp.com/api/posts/${this.state.post.id}`,\n          {\n            method: \"DELETE\"\n          }\n        ).then((json) => {\n          toast.success(`Post \"${this.state.post.title}\" was deleted`);\n          this.props.history.push(\"/\");\n        });\n      }\n\n    render() {\n        return (\n            <>\n                <h1>{this.state.post.title}</h1>\n                <p>{this.state.post.body}</p>\n                <button\n            type=\"button\"\n            className=\"btn btn-danger\"\n            onClick={() => {\n              this.deletePost();\n            }}\n          >\n            Delete\n          </button>\n            </>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}